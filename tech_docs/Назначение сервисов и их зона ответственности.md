# Назначение сервисов и их зона ответственности

## API Gateway

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>API Gateway</p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователь мог авторизоваться и обращаться к инкапсулированному функционалу
                сервисов.</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Авторизация пользователя</li>
                <li>Создание отчета</li>
                <li>Получение отчета</li>
                <li>Управление конфигурациями отчет</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Обращение к сервису управления пользователями.</li>
                <li>Обращение к сервисам генерации, доставки отчетных форм и управлением конфигураций.</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td><p><strong>Описание:</strong></p>
            <p>Сервис, предоставляющий возможность пользователю зарегистрироваться или авторизоваться и обращаться к
                основному функционалу системы.</p></td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Сайт, мобильное приложение или swagger</p></td>
                    <td><p>Позволяет генерировать, изменять и получать отчеты</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>UI</p></td>
                </tr>
                <tr>
                    <td><p>Сервис управления пользователями</p></td>
                    <td><p>Аутентификация и авторизация пользователя</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис генерации отчетных форм</p></td>
                    <td><p>Позволяет генерировать отчеты</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис управления конфигурациями</p></td>
                    <td><p>Позволяет получить метаинформацию для будущей отчётной формы и предоставляет возможность
                        администраторам вносит изменения в конфигурации отчетов</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>

## Сервис управления пользователями

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>Сервис управления пользователями</p>
            <p></p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователь мог регистрироваться и авторизовываться в системе</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Авторизация пользователя</li>
                <li>Регистрация пользователя</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Сохранение информации о пользователе при регистрации</li>
                <li>Предоставление токена доступа для при аутентификации и авторизации пользователя в системе</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td><p><strong>Описание:</strong></p>
            <p>Сервис, предоставляющий возможность пользователю зарегистрироваться или авторизоваться. Предоставляет
                возможно вернуть всю информацию о пользователе (данные, роли и т.д.)</p></td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Api gateway</p></td>
                    <td><p>Позволяет пользователю зарегистрировать или авторизоваться в системе</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>

## Сервис управления конфигурациями

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>Сервис управления конфигурациями</p>
            <p></p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователи могли получить конфигурации отчета, администраторы системы могли вносить
                изменения в конфигурации отчета.</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Управление конфигурацией отчетов</li>
                <li>Изменение метаданных отчетов</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Предоставить все метаданные для будущего сгенерированного отчета</li>
                <li>Добавить новый формат отчета</li>
                <li>Изменить параметры отчета</li>
                <li>Изменить метаданные отчета</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>
            <p>
                <strong>Описание:</strong>
            </p>
            <p>Сервис, предоставляющий возможность администратору системы управлять конфигурациями отчетов (форматы
                отчета, метаданные и т.д.)
            </p>
        </td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Api gateway</p></td>
                    <td><p>Запрашивает информацию для генерации отчетов, предоставляет информацию для модификации
                        конфигурации отчетов</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис форматирования отчетов</p></td>
                    <td><p>Запрашивает информацию с метаданными отчета для форматирования</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>

## Сервис генерации отчетных форм

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>Сервис генерации отчетных форм</p>
            <p></p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователи могли сгенерировать отчетную форму с готовым набором данных</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Получение готового набора данных для</li>
                <li>Генерация отчета, в зависимости от метаданных и параметров генерации</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Обратиться за данными с конфигурацией для генерации отчетной формы.</li>
                <li>Обратиться за готовым набором данных к внешнему сервису для подготовки к форматированию готовой
                    отчетной формы
                </li>
                <li>Вернуть готовую отчетную форму</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>
            <p>
                <strong>Описание:</strong>
            </p>
            <p>Сервис, предоставляющий возможность пользователю системы сгенерировать отчетную форму</p>
        </td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Api gateway</p></td>
                    <td><p>Получает запрос для генерации отчетной формы</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис управления конфигурациями</p></td>
                    <td><p>Запрашивает информацию с метаинформацией отчета</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис генерации данных</p></td>
                    <td><p>Запрашивает информацию с готовыми данными для форматирования отчетов</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис хранения отчетных форм</p></td>
                    <td><p>Отправляет готовый отчет для сохранения в бд</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>

## Сервис генерации данных

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>Сервис генерации данных</p>
            <p></p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователи могли получить данные для генерации отчета</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Получение готового набора данных для</li>
                <li>Предоставление данных</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Обратиться за готовым набором данных к внешнему сервису(ов) для получения данных будущего отчета</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>
            <p>
                <strong>Описание:</strong>
            </p>
            <p>Сервис, предоставляющий возможность пользователю системы получить данные для генерации отчета</p>
        </td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Сервис форматирования отчетов</p></td>
                    <td><p>Запрашивает информацию с готовыми данными для форматирования отчетов</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>

## Сервис хранения готовых отчетных фори

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>Сервис хранения готовых отчетных форм</p>
            <p></p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователи могли сохранять и получать готовые отчетные формы</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Получение готового отчёта для сохранения</li>
                <li>Предоставление готового отчета</li>
                <li>Удаление готовых отчетов (cronjob k8s или эндпоинт в админке)</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Получить запрос на сохранение готового отчета</li>
                <li>Предоставить готовый отчет</li>
                <li>Удалить готового отчета</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>
            <p>
                <strong>Описание:</strong>
            </p>
            <p>Сервис, предоставляющий возможность пользователю сохранять и получать готовые отчетные формы</p>
        </td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Сервис форматирования отчетов</p></td>
                    <td><p>Отправляет запрос на сохранение отчетной формы</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис доставки отчетов</p></td>
                    <td><p>Запрашивает готовый отчет</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>

## Сервис доставки отчетов

<table>
    <tbody>
    <tr>
        <th><p><strong>Название:</strong></p>
            <p>Сервис доставки отчетов</p>
            <p></p></th>
        <th colspan="2"><p><strong>Возможности и обязанности:</strong></p></th>
    </tr>
    <tr>
        <td><p><strong>Стратегическая классификация:</strong></p>
            <p>Необходимо, чтобы пользователи могли получать готовые отчетные формы</p></td>
        <td rowspan="2"><p><strong>Информационные:</strong></p>
            <ol>
                <li>Предоставление готового отчета</li>
            </ol>
        </td>
        <td rowspan="2"><p><strong>Действия:</strong></p>
            <ol>
                <li>Предоставить готовый отчет по выбранным критериям доставки</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td>
            <p>
                <strong>Описание:</strong>
            </p>
            <p>Сервис, предоставляющий возможность получать готовые отчетные формы в зависимости от выбранной формы доставки (на UI, по email и т.д.)</p>
        </td>
    </tr>
    <tr>
        <td colspan="3"><p><strong>Зависимости:</strong></p>
            <table>
                <tbody>
                <tr>
                    <th><p><strong>Название</strong></p></th>
                    <th><p><strong>Причина зависимости</strong></p></th>
                    <th><p><strong>Внутренняя или внешняя система?</strong></p></th>
                    <th><p><strong>Отношение</strong></p>
                        <p>(Входящая, исходящая, двунаправленная, UI)</p></th>
                </tr>
                <tr>
                    <td><p>Api gateway</p></td>
                    <td><p>Отправляет запрос на получение отчетной формы</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Входящая</p></td>
                </tr>
                <tr>
                    <td><p>Сервис сохранения отчетов</p></td>
                    <td><p>Запрашивает готовую отчетную форму</p></td>
                    <td><p>Внутренняя</p></td>
                    <td><p>Исходящая</p></td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    </tbody>
</table>